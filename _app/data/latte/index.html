<!DOCTYPE html>
<html class="nette-latte">
<head>
	<meta charset="utf-8">
	<meta name="author" content="Nette Foundation; c 2008">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Latte: amazing template engine for PHP | Nette Framework</title>

	<link rel="stylesheet" href="https://files.nette.org/css/combined.css?v=1468405828">
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="search" type="application/opensearchdescription+xml" href="https://nette.org/opensearch.xml" title="Nette Framework">
	<link rel="search" type="application/opensearchdescription+xml" href="https://forum.nette.org/opensearch.xml" title="Nette Framework forum">
	<link rel="search" type="application/opensearchdescription+xml" href="https://api.nette.org/opensearch.xml" title="Nette Framework API">
	<link rel="canonical" href="/en/">
	<link rel="image_src" href="https://files.nette.org/images/fb-preview.png">

		<link rel="alternate" hreflang="cs" href="/cs/">
	<link rel="alternate" hreflang="en" href="/en/">
</head>


<body>
<script>
	ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
	ga('create','UA-95238-14','auto'); ga('send','pageview');
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>
<script src="https://api.nette.org/2.4/elementlist.js" async></script>
<script src="https://files.nette.org/js/combined.js?v=1468489896" async></script>

<div class="page">
	<header class="main">
		<a class="logo" title="Homepage" href="https://nette.org/en/"><span>Homepage</span></a>

		<nav class="main">
			<ul>
	<li><a href="/en/#toc-installation-and-usage">Download</a></li>

	<li><a href="/en/">Documentation</a></li>

	<li><a href="https://api.nette.org/latte/">API</a></li>

	<li><a href="https://github.com/nette/latte">GitHub</a></li>
</ul>

		</nav>
	</header>

		<div class="wikimenu">
	<div>
		<div><a href="https://github.com/nette/web-content/blob/nette.org/latte/en/homepage.texy">Edit</a></div>
		<ul>
			<li><a href="https://nette.org/en/writing">How to write?</a></li>

			<li><a href="/en/?view=links">Backlinks</a></li>

			<li>Languages: <a href="/cs/">cs</a> <a href="/en/">en</a> </li>

			<li>changed 23. 5. 2016</li>

			<li><a href="/special/sitemap?lang=en">All pages</a></li>

			<li><a href="/special/broken-links?lang=en">Broken links</a></li>
		</ul>
	</div>

	<div>
		<div>Lang</div>
		<ul>
			<li><a href="/cs/">cs</a></li>
			<li><a href="/en/">en</a></li>
		</ul>
	</div>

</div>


	<div class="main">
		<div class="content has-sidebar">
			



<h1 id="toc-latte-amazing-template-engine-for-php">Latte: amazing template engine for PHP</h1>

<div class="perex">
	<p>Latte is a template engine for PHP which eases your work and ensures the output is protected against vulnerabilities, such
	as XSS.</p>

	<ul>
		<li><b>Latte is fast:</b> it compiles templates to plain optimized PHP code.</li>

		<li><b>Latte is secure:</b> it is the first PHP engine introducing content-aware escaping.</li>

		<li><b>Latte speaks your language:</b> it has intuitive syntax and helps you to build better websites easily.</li>
	</ul>
</div>

<p>Although PHP is originally a templating language, it is not particularly suited for writing templates. Let's have a look at an
example of a PHP template that prints an array <code>$items</code> as a list:</p>

<pre class="src-html"><code><span class="html-tag">&lt;?php</span><span class="html-tagin"> if ($items): ?</span><span
class="html-tag">&gt;</span>
    <span class="html-tag">&lt;?php</span><span class="html-tagin"> $counter = 1 ?</span><span
class="html-tag">&gt;</span>
    <span class="html-tag">&lt;ul&gt;</span>
    <span class="html-tag">&lt;?php</span><span
class="html-tagin"> foreach ($items as $item): ?</span><span class="html-tag">&gt;</span>
        <span
class="html-tag">&lt;li</span><span class="html-tagin"> id=</span><span
class="html-quote">&quot;item-&lt;?php echo $counter++ ?&gt;&quot;</span><span class="html-tag">&gt;&lt;?php</span><span
class="html-tagin">
        echo htmlSpecialChars(mb_convert_case($item, MB_CASE_TITLE)) ?</span><span
class="html-tag">&gt;</span>
        <span class="html-tag">&lt;/li&gt;</span>
    <span class="html-tag">&lt;?php</span><span
class="html-tagin"> endforeach ?</span><span class="html-tag">&gt;</span>
    <span class="html-tag">&lt;/ul&gt;</span>
<span
class="html-tag">&lt;?php</span><span class="html-tagin"> endif?</span><span class="html-tag">&gt;</span></code></pre>

<p>The code is rather confusing. Moreover, we must not forget to call <code>htmlSpecialChars</code> function. That's why there
are so many different template engines for PHP. One of the best template engines is part of Nette Framework and it is called
<b>Latte</b>. You'll love it!</p>

<p>The same template as the one above can be written easily in Latte:</p>

<pre class="src-html"><code><span class="html-tag">&lt;ul</span><span class="html-tagin"> n:if=</span><span
class="html-quote">&quot;$items&quot;</span><span class="html-tag">&gt;</span>
{<span class="php-keyword1">foreach</span> <span
class="php-var">$items</span> <span class="php-keyword1">as</span> <span class="php-var">$item</span>}
    <span
class="html-tag">&lt;li</span><span class="html-tagin"> id=</span><span class="html-quote">&quot;item-{</span><span
class="php-var">$iterator</span>-&gt;counter}<span class="html-quote">&quot;</span><span class="html-tag">&gt;</span>{<span
class="php-var">$item</span>|capitalize}<span class="html-tag">&lt;/li&gt;</span>
{/<span
class="php-keyword1">foreach</span>}
<span class="html-tag">&lt;/ul&gt;</span></code></pre>

<p>As you can see there are two types of macros:</p>

<ul>
	<li><b>macro</b> in braces, for example <code>{foreach …}</code></li>

	<li><b>n:macro</b>, for example <code>n:if="…"</code></li>
</ul>

<h2 id="toc-installation-and-usage">Installation and Usage</h2>

<p>The best way how to install Latte is to <a href="https://github.com/nette/latte/releases">download a latest package</a> or use
a Composer:</p>

<pre>php composer.phar require latte/latte</pre>

<p>The Latte requires PHP version 5.3.1 or newer.</p>

<p>How to render template? Just run this code:</p>

<pre class="src-php"><code><span class="php-var">$latte</span> = <span class="php-keyword1">new</span> Latte\Engine;

<span
class="php-var">$latte</span>-&gt;setTempDirectory(<span class="php-quote">'/path/to/tempdir'</span>);

<span
class="php-var">$parameters</span>[<span class="php-quote">'items'</span>] = [<span class="php-quote">'one'</span>, <span
class="php-quote">'two'</span>, <span class="php-quote">'three'</span>];

<span
class="php-comment">// render to output</span>
<span class="php-var">$latte</span>-&gt;render(<span
class="php-quote">'template.latte'</span>, <span class="php-var">$parameters</span>);
<span
class="php-comment">// or render to string</span>
<span class="php-var">$html</span> = <span
class="php-var">$latte</span>-&gt;renderToString(<span class="php-quote">'template.latte'</span>, <span
class="php-var">$parameters</span>);</code></pre>

<h2 id="toc-macros">Macros</h2>

<p>You can find detailed description of all the default macros on the <a href="/en/macros">extra page</a>. Furthermore, you can
make your own macros.</p>

<p>Each pair macro, such as <code>{if} … {/if}</code>, operating upon single HTML element can be written in <a
href="#toc-n-macros">n:macro</a> notation. So, it is possible to write the <code>{foreach}</code> macro in the same manner:</p>

<pre class="src-html"><code><span class="html-tag">&lt;ul</span><span class="html-tagin"> n:if=</span><span
class="html-quote">&quot;$items&quot;</span><span class="html-tag">&gt;</span>
    <span class="html-tag">&lt;li</span><span
class="html-tagin"> n:foreach=</span><span class="html-quote">&quot;$items as $item&quot;</span><span
class="html-tag">&gt;</span>{<span class="php-var">$item</span>|capitalize}<span class="html-tag">&lt;/li&gt;</span>
<span
class="html-tag">&lt;/ul&gt;</span></code></pre>

<p>With n:macros you can do much more interesting tricks as you will see in a moment.</p>

<p><code>{$item|capitalize}</code> macro which prints the <code>$item</code> variable contains so called <a
href="#toc-filters">filter</a>, in this case the <code>capitalize</code> filter which makes the first letter of each word
uppercase.</p>

<p>Very important feature of Latte is that it <b>escapes variables by default</b>. <a
href="//doc.nette.org/en/glossary#toc-escaping">Escaping</a> is needed when printing a variable because we have to convert all the
characters which have a special meaning in HTML to other sequences. In case we forget it can lead to a serious security hole
called <a href="//doc.nette.org/en/vulnerability-protection#toc-cross-site-scripting-xss">Cross Site Scripting (XSS)</a>.</p>

<p>Because of different escaping functions that are needed in different documents and different parts of a page, Latte features a
unique technology of <a href="#toc-context-aware-escaping">Context-Aware Escaping</a> which recognizes the context in which the
macro is placed and <b>chooses the right escaping mode.</b> You don't have to worry that your coder forgets about it causing you
goose bumps because of a security hole. Which is great!</p>

<p class="note">If the <code>$item</code> variable stores an HTML code and you want to print it without any alteration you just
add the modifier noescape: <code>{$item|noescape}</code>. Forgetting the modifier mark won't cause any security holes in spirit of
„less code, more security“ principle.</p>

<p>You can still use PHP inside the macros normally, including comments as well. But Latte also extends the PHP syntax with three
pleasant features:</p>

<ol>
	<li>array can be written as <code>[1, 2, 3]</code>, which is the same as <code>[1, 2, 3]</code> in PHP</li>

	<li>we can omit quotes around the strings consisting of letters, numbers and dashes</li>

	<li>short condition notation <code>$a ? 'b'</code> which is the same as <code>$a ? 'b' : null</code> in PHP</li>
</ol>

<p>For example:</p>

<pre class="src-html"><code>{<span class="php-keyword1">foreach</span> [a, b, c] <span class="php-keyword1">as</span> <span
class="php-var">$id</span>} ... {/<span class="php-keyword1">foreach</span>}

{<span
class="php-var">$cond</span> ? hello}  // prints 'hello' if $cond equals true</code></pre>

<p>Latte also has a <code>{* comment macro *}</code> which doesn't get printed to the output.</p>

<h2 id="toc-n-macros">n:macros</h2>

<p>We showed that n:macros are supposed to be written directly into HTML tags as their special attributes. We also said that every
pair macro (e.g. <code>{if} … {/if}</code>) can be written in n:macro notation. The macro then corresponds to the HTML element
in which it is written:</p>

<pre class="src-html"><code>{<span class="php-keyword1">var</span> <span class="php-var">$items</span> = [<span
class="php-quote">'I'</span>, <span class="php-quote">'♥'</span>, <span class="php-quote">'Nette Framework'</span>]}

<span
class="html-tag">&lt;p</span><span class="html-tagin"> n:foreach=</span><span
class="html-quote">&quot;$items as $item&quot;</span><span class="html-tag">&gt;</span>{<span class="php-var">$item</span>}<span
class="html-tag">&lt;/p&gt;</span></code></pre>

<p>Prints:</p>

<pre class="src-html"><code><span class="html-tag">&lt;p&gt;</span>I<span class="html-tag">&lt;/p&gt;</span>
<span
class="html-tag">&lt;p&gt;</span>♥<span class="html-tag">&lt;/p&gt;</span>
<span
class="html-tag">&lt;p&gt;</span>Nette Framework<span class="html-tag">&lt;/p&gt;</span></code></pre>

<p>By using <code>inner-</code> prefix we can alter the behavior so that the macro applies only to the body of the element:</p>

<pre class="src-html"><code><span class="html-tag">&lt;div</span><span class="html-tagin"> n:inner-foreach=</span><span
class="html-quote">&quot;$items as $item&quot;</span><span class="html-tag">&gt;</span>
    <span
class="html-tag">&lt;p&gt;</span>{<span class="php-var">$item</span>}<span class="html-tag">&lt;/p&gt;</span>
    <span
class="html-tag">&lt;hr&gt;</span>
<span class="html-tag">&lt;/div&gt;</span></code></pre>

<p>Prints:</p>

<pre class="src-html"><code><span class="html-tag">&lt;div&gt;</span>
    <span class="html-tag">&lt;p&gt;</span>I<span
class="html-tag">&lt;/p&gt;</span>
    <span class="html-tag">&lt;hr&gt;</span>
    <span
class="html-tag">&lt;p&gt;</span>♥<span class="html-tag">&lt;/p&gt;</span>
    <span
class="html-tag">&lt;hr&gt;</span>
    <span class="html-tag">&lt;p&gt;</span>Nette Framework<span
class="html-tag">&lt;/p&gt;</span>
    <span class="html-tag">&lt;hr&gt;</span>
<span
class="html-tag">&lt;/div&gt;</span></code></pre>

<p>Or by using <code>tag-</code> prefix the macro is applied on the HTML tags only:</p>

<pre class="src-html"><code><span class="html-tag">&lt;p&gt;&lt;a</span><span class="html-tagin"> href=</span><span
class="html-quote">&quot;{</span><span class="php-var">$url</span>}<span class="html-quote">&quot;</span><span
class="html-tagin"> n:tag-if=</span><span class="html-quote">&quot;$url&quot;</span><span class="html-tag">&gt;</span>Title<span
class="html-tag">&lt;/a&gt;&lt;/p&gt;</span></code></pre>

<p>Depending on the value of <code>$url</code> variable this will print:</p>

<pre class="src-html"><code>// when $url is empty
<span class="html-tag">&lt;p&gt;</span>Title<span
class="html-tag">&lt;/p&gt;</span>

// when $url equals 'https://nette.org'
<span class="html-tag">&lt;p&gt;&lt;a</span><span
class="html-tagin"> href=</span><span class="html-quote">&quot;https://nette.org&quot;</span><span
class="html-tag">&gt;</span>Title<span class="html-tag">&lt;/a&gt;&lt;/p&gt;</span></code></pre>

<p>However, n:macros are not only a shortcut for pair macros, there are some pure n:macros as well, for example the coder's best
friend <a href="/en/macros#toc-n-class">n:class</a> macro.</p>

<h2 id="toc-filters">Filters</h2>

<p>Latte allows calling filters by using the pipe sign notation (preceding space is allowed):</p>

<pre class="src-html"><code><span class="html-tag">&lt;h1&gt;</span>{<span class="php-var">$heading</span>|upper}<span
class="html-tag">&lt;/h1&gt;</span></code></pre>

<p>Filters (or modifiers) can be chained, in that case they apply in order from left to right:</p>

<pre class="src-html"><code><span class="html-tag">&lt;h1&gt;</span>{<span class="php-var">$heading</span>|lower|capitalize}<span
class="html-tag">&lt;/h1&gt;</span></code></pre>

<p>Parameters are put after the filter name separated by colon or comma:</p>

<pre class="src-html"><code><span class="html-tag">&lt;h1&gt;</span>{<span class="php-var">$heading</span>|truncate:<span
class="php-num">20</span>,<span class="php-quote">''</span>}<span class="html-tag">&lt;/h1&gt;</span></code></pre>

<p>See the summary of <a href="/en/filters">standard filters</a> and how to make user-defined filters.</p>

<p>Filter can be registered by any callback or lambda function:</p>

<pre class="src-php"><code><span class="php-var">$latte</span> = <span class="php-keyword1">new</span> Latte\Engine;
<span
class="php-var">$latte</span>-&gt;addFilter(<span class="php-quote">'shortify'</span>, <span
class="php-keyword1">function</span> (<span class="php-var">$s</span>) {
    <span class="php-keyword1">return</span> <span
class="php-keyword2">mb_substr</span>(<span class="php-var">$s</span>, <span class="php-num">0</span>, <span
class="php-num">10</span>); <span class="php-comment">// shortens the text to 10 characters</span>
});</code></pre>

<p>In this case it would be better for the filter to get an extra parameter:</p>

<pre class="src-php"><code><span class="php-var">$latte</span>-&gt;addFilter(<span class="php-quote">'shortify'</span>, <span
class="php-keyword1">function</span> (<span class="php-var">$s</span>, <span class="php-var">$len</span> = <span
class="php-num">10</span>) {
    <span class="php-keyword1">return</span> <span class="php-keyword2">mb_substr</span>(<span
class="php-var">$s</span>, <span class="php-num">0</span>, <span class="php-var">$len</span>);
});</code></pre>

<p>We call it in a template like this:</p>

<pre class="src-php"><code>&lt;p&gt;<span class="xlang">&lt;?php</span> <span class="php-keyword1">echo</span> <span
class="php-var">$template</span>-&gt;shortify(<span class="php-var">$text</span>, <span class="php-num">100</span>); <span
class="xlang">?&gt;</span>&lt;/p&gt;</code></pre>

<p>Latte simplifies the notation – filters are denoted by the pipe sign, they can be chained (they apply in order from left to
right). Parameters are separated by colon or comma:</p>

<pre class="src-html"><code><span class="html-tag">&lt;p&gt;</span>{<span class="php-var">$text</span>|shortify:<span
class="php-num">100</span>}<span class="html-tag">&lt;/p&gt;</span></code></pre>

<h3 id="toc-universal-filter">Universal filter</h3>

<p>Manual registration of multiple filter can be replaced with a single universal registration:</p>

<pre class="src-php"><code><span class="php-var">$template</span>-&gt;addFilter(<span class="php-keyword1">NULL</span>, <span
class="php-quote">'Filters::common'</span>);</code></pre>

<p>Filters:common gets name of filter as first parameter.</p>

<pre class="src-php"><code><span class="php-keyword1">class</span> Filters
{
    <span class="php-keyword1">public</span> <span
class="php-keyword1">static</span> <span class="php-keyword1">function</span> common(<span class="php-var">$filter</span>, <span
class="php-var">$value</span>)
    {
        <span class="php-keyword1">if</span> (<span
class="php-keyword2">method_exists</span>(__CLASS__, <span class="php-var">$filter</span>)) {
            <span
class="php-var">$args</span> = <span class="php-keyword2">func_get_args</span>();
            <span
class="php-keyword2">array_shift</span>(<span class="php-var">$args</span>);
            <span
class="php-keyword1">return</span> <span class="php-keyword2">call_user_func_array</span>([__CLASS__, <span
class="php-var">$filter</span>], <span class="php-var">$args</span>);
        }
    }

    <span
class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span
class="php-keyword1">function</span> shortify(<span class="php-var">$s</span>, <span class="php-var">$len</span> = <span
class="php-num">10</span>)
    {
        <span class="php-keyword1">return</span> <span
class="php-keyword2">mb_substr</span>(<span class="php-var">$s</span>, <span class="php-num">0</span>, <span
class="php-var">$len</span>);
    }
}</code></pre>

<h2 id="toc-performance">Performance</h2>

<p>Latte is fast. It compiles the templates to native PHP code and stores them in cache on the disk. So they are as fast as if
they would have been written in pure PHP.</p>

<p>The template is automatically recompiled each time we change the source file. While developing you just need to edit the
templates in Latte and changes are visible in your browser instantly.</p>

<h2 id="toc-debugging">Debugging</h2>

<p>With each error or typo you will be informed by the <a href="//tracy.nette.org/en/">Tracy</a> with all the luxury. The template
source code is displayed and the red line marks the error showing error message as well. With just a single click you can open the
template in your favorite editor and fix the error at once. Easy peasy!</p>

<p>If you are using an IDE with code stepping you can go through the generated PHP code of the template.</p>

<h2 id="toc-usability">Usability</h2>

<p>Latte syntax wasn't invented by engineers but came up from webdesigner's practical requests. We were looking for the
friendliest syntax with which you can write even the most problematic constructions comfortably enough. You will be surprised how
much help Latte can be.</p>

<p>You can find macros for advanced <a href="/en/macros#toc-template-expanding-inheritance">layout</a> managing, for <b>template
inheritance</b>, nested blocks and so on. Syntax comes from PHP itself so you don't have to learn anything new and you can
leverage your know-how.</p>

<h2 id="toc-context-aware-escaping">Context-Aware Escaping</h2>

<p>Although the <a href="//doc.nette.org/en/vulnerability-protection#toc-cross-site-scripting-xss">Cross Site Scripting (XSS)</a>
is one of the trivial ways of exploiting a web page it is the most common vulnerability but very serious. It can lead to identity
theft and so on. The best defense is consistent <a href="//doc.nette.org/en/glossary#toc-escaping">escaping</a> of printed data,
ie. converting the characters which have a special meaning in the given context.</p>

<p>If the coder omits the escaping a security hole is made. That's why template engines implement automated escaping. The problem
is that the web page has different contexts and each has different rules for escaping printed data. A security hole then shows up
if the wrong escaping functions are used.</p>

<p>But Latte is sophisticated. It features unique technology of <em>Context-Aware Escaping</em> which recognizes the context in
which the macro is placed and chooses the right escaping mode. What does that mean?</p>

<p>Latte doesn't need any manual work. <b>All is done automatically, consistently and correctly.</b> You don't have to worry about
security holes.</p>

<p>Lets see how it works:</p>

<pre class="src-html"><code><span class="html-tag">&lt;p</span><span class="html-tagin"> onclick=</span><span
class="html-quote">&quot;alert({</span><span class="php-var">$movie</span>}<span class="html-quote">)&quot;</span><span
class="html-tag">&gt;</span>{<span class="php-var">$movie</span>}<span class="html-tag">&lt;/p&gt;</span>

<span
class="html-tag">&lt;script&gt;</span><span class="js-keywords1">var</span><span class="js-out"> movie = </span><span
class="xlang">{</span><span class="php-var">$movie</span>}<span class="js-out">;</span><span
class="html-tag">&lt;/script&gt;</span></code></pre>

<p>If <code>$movie</code> variable stores <code>'Amarcord &amp; 8 1/2'</code> string it generates the following output. Notice
different escaping used in HTML and JavaScript and also in <code>onclick</code> attribute:</p>

<pre class="src-html"><code><span class="html-tag">&lt;p</span><span class="html-tagin"> onclick=</span><span
class="html-quote">&quot;alert(&amp;quot;Amarcord &amp;amp; 8 1\/2&amp;quot;)&quot;</span><span
class="html-tag">&gt;</span>Amarcord <span class="html-entity">&amp;amp;</span> 8 1/2<span
class="html-tag">&lt;/p&gt;</span>

<span class="html-tag">&lt;script&gt;</span><span class="js-keywords1">var</span><span
class="js-out"> movie = </span><span class="js-quote">&quot;Amarcord &amp; 8 1\/2&quot;</span><span class="js-out">;</span><span
class="html-tag">&lt;/script&gt;</span></code></pre>

<p>Thanks to Context-Aware Escaping the template is simple and your application perfectly secured against Cross Site Scripting.
You can use PHP variables natively inside the JavaScript!</p>

<h2 id="toc-a-pretty-output">A pretty output</h2>

<p>Sticklers will enjoy the look of the HTML output which Latte generates. All tags are indented as they are supposed to. The code
looks like it has been processed with some kind of <em>HTML code beautifier</em> :-)</p>

<h2 id="toc-user-defined-macros">User-defined macros</h2>

<p>Latte provides API for making your own macros. It isn't difficult at all. Macros are added in sets (a set can consist of a
single macro).</p>

<pre class="src-php"><code><span class="php-var">$latte</span> = <span class="php-keyword1">new</span> Latte\Engine;

<span
class="php-comment">// lets create a set</span>
<span class="php-var">$set</span> = <span
class="php-keyword1">new</span> Latte\Macros\MacroSet(<span class="php-var">$latte</span>-&gt;getCompiler());

<span
class="php-comment">// add new pair macro {try} ... {/try}</span>
<span class="php-var">$set</span>-&gt;addMacro(
    <span
class="php-quote">'try'</span>, <span class="php-comment">// macro name</span>
    <span class="php-quote">'try {'</span>,  <span
class="php-comment">// PHP code replacing the opening brace</span>
    <span
class="php-quote">'} catch (\Exception $e) {}'</span> <span
class="php-comment">// code replacing the closing brace</span>
);</code></pre>

<p>If we omit the last parameter of <code>addMacro()</code> method, we denote the macro is not paired.</p>

<p>PHP code in the second and third parameter can contain tags:</p>

<ul>
	<li><code>%node.word</code> – inserts the first macro argument</li>

	<li><code>%node.array</code> – inserts the macro arguments formated as a PHP array</li>

	<li><code>%node.args</code> – inserts the macro arguments formated as PHP code</li>

	<li><code>%escape(...)</code> – replaced by the current escape function</li>

	<li><code>%modify(...)</code> – replaced by a sequence of modifiers</li>
</ul>

<p>For example:</p>

<pre class="src-php"><code><span class="php-var">$set</span>-&gt;addMacro(<span class="php-quote">'if'</span>, <span
class="php-quote">'if (%node.args):'</span>, <span class="php-quote">'endif'</span>);</code></pre>

<p>If the macro logic is more complex we can use callbacks or lambda functions instead of strings. In the first parameter they
will get <a href="//api.nette.org/2/Latte.MacroNode.html">MacroNode</a> object which represents the current macro, the second
parameter is <a href="//api.nette.org/2/Latte.PhpWriter.html">PhpWriter</a> object which helps with generating the
output code.</p>

<pre class="src-php"><code><span class="php-var">$set</span>-&gt;addMacro(<span class="php-quote">'if'</span>, <span
class="php-keyword1">function</span>(<span class="php-var">$node</span>, <span class="php-var">$writer</span>) {
    <span
class="php-keyword1">return</span> <span class="php-var">$writer</span>-&gt;write(<span
class="php-quote">'if (%node.args):'</span>);
}, <span class="php-quote">'endif'</span>);</code></pre>

<h2 id="toc-template-from-string">Template from string</h2>

<p>You can load template from a string using loader:</p>

<pre class="src-php"><code><span class="php-var">$latte</span>-&gt;setLoader(<span
class="php-keyword1">new</span> Latte\Loaders\StringLoader);

<span class="php-var">$template</span> = <span
class="php-quote">'
    {if true} {$var} {/if}
'</span>;
<span class="php-var">$latte</span>-&gt;render(<span
class="php-var">$template</span>, <span class="php-var">$parameters</span>);</code></pre>


		</div>

			<aside class="main">
		<div>
			<p><a href="https://github.com/nette/latte">GitHub</a> | <a href="https://api.nette.org/latte/namespace-Latte.html">API</a>
			<br>composer: <a href="https://packagist.org/packages/latte/latte">latte/latte</a></p>


			<ul class="toc">
				<li class="up" value="0"><a href="#">▲</a></li>
				<li><a href="#toc-installation-and-usage">Installation and Usage</a>
				</li>
				<li><a href="#toc-macros">Macros</a>
				</li>
				<li><a href="#toc-n-macros">n:macros</a>
				</li>
				<li><a href="#toc-filters">Filters</a>
				<ul>
				
				<li><a href="#toc-universal-filter">Universal filter</a>
				</ul>
				
				<li><a href="#toc-performance">Performance</a>
				</li>
				<li><a href="#toc-debugging">Debugging</a>
				</li>
				<li><a href="#toc-usability">Usability</a>
				</li>
				<li><a href="#toc-context-aware-escaping">Context-Aware Escaping</a>
				</li>
				<li><a href="#toc-a-pretty-output">A pretty output</a>
				</li>
				<li><a href="#toc-user-defined-macros">User-defined macros</a>
				</li>
				<li><a href="#toc-template-from-string">Template from string</a>
				</li>
			</ul>
		</div>
	</aside>
	</div>

	<footer class="main">
		<p>&copy; 2008, 2016 <a href="https://nettefoundation.com">Nette Foundation</a> | <a href="http://php7.org/guidelines/">PHP Coding Guidelines</a>
		| <a href="https://nette.org/terms-of-use">Terms of use</a> | If not stated otherwise, the contents are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/cz/">Creative Commons CC-BY-SA</a>.</p>
	</footer>

</div>

<div class="bar"><div>

	<ul class="user" style="opacity:.6">
		<li><a href="https://addons.nette.org/"><span>Add-ons</span></a>
		<li><a href="https://pla.nette.org/en/"><span>Planette</span></a>
		<li><a href="https://forum.nette.org/en/"><span>Forum</span></a>
		<li><a href="https://blog.nette.org"><span>Blog</span></a>
		<li><a href="https://nette.org/donate"><span>Donate</span></a>
		<li>
		<form action="https://www.google.com/cse" class="search">
			<input type="hidden" name="cx" value="011549293477758430224:vxofa9ufnhc"><input type="hidden" name="ie" value="UTF-8"><input type="search" name="q" class="text" size="30" placeholder="Search"><input type="image" src="https://files.nette.org/images/search.png" alt="Search">
		</form>
		</li>
	</ul>
</div></div>

</body>
</html>
